{"tags":[{"name":"pngquant","permalink":"http://blog.keepmovingxin.com/tags/pngquant/","url":"/async/tags/pngquant.json","count":1}],"categories":[{"name":"工具/效率","permalink":"http://blog.keepmovingxin.com/categories/工具-效率/","url":"/async/categories/工具/效率.json","count":7}],"url":"/async/posts/2016/04/30/pngquant-compress-png.json","date":1462021888000,"path":{"year":2016,"month":4,"day":30,"name":"pngquant-compress-png"},"title":"利用pngquant压缩png图片","permalink":"http://blog.keepmovingxin.com/2016/04/30/pngquant-compress-png/","content":"<p>项目包体积越来越大，为了压缩包大小找到一个比较好用的png图片压缩工具，在这记录一下。</p>\n<h3 id=\"安装并配置全局变量\"><a href=\"#安装并配置全局变量\" class=\"headerlink\" title=\"安装并配置全局变量\"></a>安装并配置全局变量</h3><p>安装：<br>去官网下载压缩包 或者 源码: <code>git clone git://github.com/pornel/pngquant.git</code><br>也可以使用HomeBrew安装：<code>brew install pngquant</code><br>配置全局变量(使用HomeBrew安装请忽略)：<br><code>ln –s /下载的位置/pngquant /usr/local/bin/pngquant</code><br>pngquant 可以愉快的玩耍啦！</p>\n<a id=\"more\"></a>\n<h3 id=\"查看帮助信息\"><a href=\"#查看帮助信息\" class=\"headerlink\" title=\"查看帮助信息\"></a>查看帮助信息</h3><p>执行 pngquant -h 查看完整选项<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">--ext new.png</span><br><span class=\"line\">设置输出图片的后缀。默认是 -or8.png 或者 -fs8.png 。</span><br><span class=\"line\">--quality min-max</span><br><span class=\"line\">使 pngquant 使用最少的颜色达到或超出 max 品质要求。如果转换结果低于 min 品质，图像不会被保存 (如果是输出到标准输出, 24-bit 原图像会被输出) 并且 pngquant 会退出并返回 99。</span><br><span class=\"line\">min 和 max 范围在 0 (最差) 到 100 (最佳), 和 JPEG 相似。</span><br><span class=\"line\">pngquant --quality=65-80 image.png</span><br><span class=\"line\">--speed N, -sN</span><br><span class=\"line\">速度/质量 平衡 从 1 (强制) 到 10 (最快)。默认是 3。速度 10 相比减少图片 5% 质量, 但是 8 倍于默认的速度。</span><br><span class=\"line\">--iebug</span><br><span class=\"line\">在 IE6 下, 只显示完全不透明的像素。pngquant 会使半透明像素以不透明方式显示并且不生产新的像素。</span><br><span class=\"line\">--version</span><br><span class=\"line\">输出版本信息。</span><br><span class=\"line\">-</span><br><span class=\"line\">从标准输入读取图像并输出到标准输出。</span><br><span class=\"line\">--</span><br><span class=\"line\">不处理对象。允许使用文件名以 - 开头的文件。如果你在脚本中使用 pngquant , 建议在文件名前加上这个:</span><br></pre></td></tr></table></figure></p>\n<p><code>pngquant $OPTIONS -- &quot;$FILE&quot;</code></p>\n<h3 id=\"使用示例\"><a href=\"#使用示例\" class=\"headerlink\" title=\"使用示例\"></a>使用示例</h3><p>压缩Downloads目录下所有的png，并替换当前图片<br><code>find /Users/mac/Downloads/ -name &quot;*.png&quot; | while read line; do pngquant --ext .png --force $line; done</code></p>\n<hr>\n<p>扫描二维码或在微信中搜索 KeepMovingXin<br><img src=\"/images/qrcode.jpg\" alt=\"欢迎关注微信公众号！\"></p>\n<hr>\n<p><strong>版权声明</strong><br><a href=\"http://blog.keepmovingxin.com\">KeepMoving</a> by <a href=\"http://blog.keepmovingxin.com/about\">KP_小新</a> 采用 <a href=\"http://creativecommons.org/licenses/by-nc-nd/4.0/\" target=\"_blank\" rel=\"external\">创作共用保留署名-非商业-禁止演绎4.0国际许可证</a><br>Copyright © 2016 <a href=\"http://blog.keepmovingxin.com\">KeepMoving</a>. All rights reserved.<br>原文链接：<a href=\"http://blog.keepmovingxin.com/2016/04/30/pngquant-compress-png/\">http://blog.keepmovingxin.com/2016/04/30/pngquant-compress-png/</a></p>\n"}